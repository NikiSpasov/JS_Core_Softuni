{"version":3,"sources":["../../../../../Advanced/JS/ExamPrep05Sept2017/04.Dialog/solution.js"],"names":["Dialog","constructor","message","callback","inputs","element","addInput","label","name","type","push","_compose","overlay","$","append","input","submit","click","_submit","bind","cancel","_cancel","params","find","each","i","e","value","remove","render","document","body"],"mappings":";;;AAAA,UAAMA,MAAN,CAAa;AACTC,oBAAYC,OAAZ,EAAqBC,QAArB,EAA+B;AAC3B,iBAAKD,OAAL,GAAeA,OAAf;AACA,iBAAKC,QAAL,GAAgBA,QAAhB;AACA,iBAAKC,MAAL,GAAc,EAAd;AACA,iBAAKC,OAAL,GAAe,IAAf;AACH;;AAEDC,iBAASC,KAAT,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4B;AACxB,iBAAKL,MAAL,CAAYM,IAAZ,CAAiB,CAACH,KAAD,EAAQC,IAAR,EAAcC,IAAd,CAAjB;AACH;;AAEDE,mBAAW;AACP,gBAAIC,UAAUC,EAAE,uBAAF,CAAd;AACA,gBAAIR,UAAUQ,EAAE,sBAAF,CAAd;AACAR,oBAAQS,MAAR,CAAeD,EAAG,MAAK,KAAKX,OAAQ,MAArB,CAAf;AACA,iBAAK,IAAIa,KAAT,IAAkB,KAAKX,MAAvB,EAA+B;AAC3BC,wBAAQS,MAAR,CAAeD,EAAG,UAASE,MAAM,CAAN,CAAS,UAArB,CAAf;AACAV,wBAAQS,MAAR,CAAeD,EAAG,gBAAeE,MAAM,CAAN,CAAS,WAAUA,MAAM,CAAN,CAAS,IAA9C,CAAf;AACH;AACD,gBAAIC,SAASH,EAAG,qBAAH,EAAyBI,KAAzB,CAA+B,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAA/B,CAAb;AACA,gBAAIC,SAASP,EAAG,yBAAH,EAA6BI,KAA7B,CAAmC,KAAKI,OAAL,CAAaF,IAAb,CAAkB,IAAlB,CAAnC,CAAb;AACAd,oBAAQS,MAAR,CAAeE,MAAf;AACAX,oBAAQS,MAAR,CAAeM,MAAf;AACAR,oBAAQE,MAAR,CAAeT,OAAf;AACA,mBAAOO,OAAP;AACH;;AAEDM,kBAAU;AACN,gBAAI,KAAKb,OAAL,KAAiB,IAArB,EAA2B;AAC3B,gBAAIiB,SAAS,EAAb;AACA,iBAAKjB,OAAL,CAAakB,IAAb,CAAkB,OAAlB,EAA2BC,IAA3B,CAAgC,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACtCJ,uBAAOI,EAAElB,IAAT,IAAiBkB,EAAEC,KAAnB;AACH,aAFD;AAGA,iBAAKtB,OAAL,CAAauB,MAAb;AACA,iBAAKzB,QAAL,CAAcmB,MAAd;AACH;;AAEDD,kBAAU;AACN,gBAAI,KAAKhB,OAAL,KAAiB,IAArB,EAA2B;AAC3B,iBAAKA,OAAL,CAAauB,MAAb;AACH;;AAEDC,iBAAS;AACL,iBAAKxB,OAAL,GAAe,KAAKM,QAAL,EAAf;AACAE,cAAEiB,SAASC,IAAX,EAAiBjB,MAAjB,CAAwB,KAAKT,OAA7B;AACH;AA9CQ","file":"solution.js","sourcesContent":["class Dialog {\r\n    constructor(message, callback) {\r\n        this.message = message;\r\n        this.callback = callback;\r\n        this.inputs = [];\r\n        this.element = null;\r\n    }\r\n\r\n    addInput(label, name, type) {\r\n        this.inputs.push([label, name, type]);\r\n    }\r\n\r\n    _compose() {\r\n        let overlay = $('<div class=\"overlay\">');\r\n        let element = $('<div class=\"dialog\">');\r\n        element.append($(`<p>${this.message}</p>`));\r\n        for (let input of this.inputs) {\r\n            element.append($(`<label>${input[0]}</label>`));\r\n            element.append($(`<input name=\"${input[1]}\" type=\"${input[2]}\">`));\r\n        }\r\n        let submit = $(`<button>OK</button>`).click(this._submit.bind(this));\r\n        let cancel = $(`<button>Cancel</button>`).click(this._cancel.bind(this));\r\n        element.append(submit);\r\n        element.append(cancel);\r\n        overlay.append(element);\r\n        return overlay;\r\n    }\r\n\r\n    _submit() {\r\n        if (this.element === null) return;\r\n        let params = {};\r\n        this.element.find('input').each((i, e) => {\r\n            params[e.name] = e.value;\r\n        });\r\n        this.element.remove();\r\n        this.callback(params);\r\n    }\r\n\r\n    _cancel() {\r\n        if (this.element === null) return;\r\n        this.element.remove();\r\n    }\r\n\r\n    render() {\r\n        this.element = this._compose();\r\n        $(document.body).append(this.element);\r\n    }\r\n}"]}