{"version":3,"sources":["../../../../../Advanced/JS/Exam15July2018/ClassDOM/solution.js"],"names":["onlineShop","selector","form","$","html","productNameInput","priceInput","quantityInput","submitButton","totalSum","capacityField","on","removeAttr","currentTotal","name","val","price","capacityInput","quantity","currentPrice","Number","toBeAdd","addClass","prop","liToAdd","append","getNumberOfCurrentItems","a","length"],"mappings":";;;AAAA,aAASA,UAAT,CAAoBC,QAApB,EAA8B;AAC1B,YAAIC,OAAQ;;;;;;;;;;;;;;;;;;;WAAZ;AAoBAC,UAAEF,QAAF,EAAYG,IAAZ,CAAiBF,IAAjB;;AAEA,YAAIG,mBAAmBF,EAAE,gBAAF,CAAvB;AACA,YAAIG,aAAaH,EAAE,QAAF,CAAjB;AACA,YAAII,gBAAgBJ,EAAE,WAAF,CAApB;AACA,YAAIK,eAAeL,EAAE,SAAF,CAAnB;AACA,YAAIM,WAAWN,EAAE,MAAF,CAAf;AACA,YAAIO,gBAAgBP,EAAE,WAAF,CAApB;;AAEAA,UAAEE,gBAAF,EAAoBM,EAApB,CAAuB,UAAvB,EAAmC,YAAY;AACvCR,cAAEK,YAAF,EAAgBI,UAAhB,CAA2B,UAA3B;AACH,SAFL;;AAKAT,UAAEK,YAAF,EAAgBG,EAAhB,CAAmB,OAAnB,EAA4B,YAAY;;AAGpC,gBAAIE,eAAe,CAAnB;AACA,gBAAIC,OAAOT,iBAAiBU,GAAjB,EAAX;AACA,gBAAIC,QAAQV,WAAWS,GAAX,EAAZ;AACA,gBAAIE,gBAAgBd,EAAE,WAAF,CAApB;AACA,gBAAIe,WAAWX,cAAcQ,GAAd,EAAf;AACA,gBAAII,eAAeC,OAAOJ,KAAP,CAAnB;AACA,gBAAIP,SAASM,GAAT,OAAmB,EAAvB,EAA2B;AACvBF,+BAAeM,eAAeC,OAAOX,SAASM,GAAT,EAAP,CAA9B;AACAN,yBAASM,GAAT,CAAaF,YAAb;AACH,aAHD,MAGO;AACHJ,yBAASM,GAAT,CAAaI,YAAb;AACH;AACD,gBAAIF,cAAcF,GAAd,OAAwB,EAA5B,EAAgC;AAC5BE,8BAAcF,GAAd,CAAkBG,QAAlB;AACH,aAFD,MAEO;AACH,oBAAIG,UAAUD,OAAOH,cAAcF,GAAd,EAAP,IAA8BK,OAAOF,QAAP,CAA5C;AACAD,8BAAcF,GAAd,CAAkBM,OAAlB;AACH;AACD,gBAAID,OAAOH,cAAcF,GAAd,EAAP,MAAgC,GAApC,EAAyC;AACrCZ,kBAAEO,aAAF,EAAiBK,GAAjB,CAAqB,MAArB;AACAZ,kBAAEO,aAAF,EAAiBY,QAAjB,CAA0B,cAA1B;AACAnB,kBAAEK,YAAF,EAAgBe,IAAhB,CAAqB,UAArB,EAAiC,IAAjC;AACAlB,iCAAiBkB,IAAjB,CAAsB,UAAtB,EAAkC,IAAlC;AACAjB,2BAAWiB,IAAX,CAAgB,UAAhB,EAA4B,IAA5B;AACAhB,8BAAcgB,IAAd,CAAmB,UAAnB,EAA+B,IAA/B;AACA;AACH;;AAGD,gBAAIC,UAAUrB,EAAG,gBAAeW,IAAK,WAAUE,KAAM,cAAaE,QAAS,OAA7D,CAAd;AACAf,cAAE,UAAF,EAAcsB,MAAd,CAAqBD,OAArB;;AAGAnB,6BAAiBU,GAAjB,CAAqB,EAArB;AACAT,uBAAWS,GAAX,CAAe,CAAf;AACAR,0BAAcQ,GAAd,CAAkB,CAAlB;AACAZ,cAAEK,YAAF,EAAgBe,IAAhB,CAAqB,UAArB,EAAiC,IAAjC;AAEH,SAzCD;;AA2CA,iBAASG,uBAAT,GAAmC;AAC/B,gBAAIC,IAAIxB,EAAE,OAAF,EAAWyB,MAAnB;AACA,mBAAOD,CAAP;AACH;AACJ","file":"solution.js","sourcesContent":["function onlineShop(selector) {\r\n    let form = `<div id=\"header\">Online Shop Inventory</div>\r\n    <div class=\"block\">\r\n        <label class=\"field\">Product details:</label>\r\n        <br>\r\n        <input placeholder=\"Enter product\" class=\"custom-select\">\r\n        <input class=\"input1\" id=\"price\" type=\"number\" min=\"1\" max=\"999999\" value=\"1\"><label class=\"text\">BGN</label>\r\n        <input class=\"input1\" id=\"quantity\" type=\"number\" min=\"1\" value=\"1\"><label class=\"text\">Qty.</label>\r\n        <button id=\"submit\" class=\"button\" disabled>Submit</button>\r\n        <br><br>\r\n        <label class=\"field\">Inventory:</label>\r\n        <br>\r\n        <ul class=\"display\">\r\n        </ul>\r\n        <br>\r\n        <label class=\"field\">Capacity:</label><input id=\"capacity\" readonly>\r\n        <label class=\"field\">(maximum capacity is 150 items.)</label>\r\n        <br>\r\n        <label class=\"field\">Price:</label><input id=\"sum\" readonly>\r\n        <label class=\"field\">BGN</label>\r\n    </div>`;\r\n    $(selector).html(form);\r\n\r\n    let productNameInput = $(\".custom-select\");\r\n    let priceInput = $(\"#price\");\r\n    let quantityInput = $(\"#quantity\");\r\n    let submitButton = $(\"#submit\");\r\n    let totalSum = $(\"#sum\");\r\n    let capacityField = $(\"#capacity\");\r\n\r\n    $(productNameInput).on(\"keypress\", function () {\r\n            $(submitButton).removeAttr(\"disabled\")\r\n        }\r\n    );\r\n\r\n    $(submitButton).on(\"click\", function () {\r\n\r\n\r\n        let currentTotal = 0;\r\n        let name = productNameInput.val();\r\n        let price = priceInput.val();\r\n        let capacityInput = $(\"#capacity\");\r\n        let quantity = quantityInput.val();\r\n        let currentPrice = Number(price);\r\n        if (totalSum.val() !== \"\") {\r\n            currentTotal = currentPrice + Number(totalSum.val());\r\n            totalSum.val(currentTotal);\r\n        } else {\r\n            totalSum.val(currentPrice)\r\n        }\r\n        if (capacityInput.val() === \"\") {\r\n            capacityInput.val(quantity)\r\n        } else {\r\n            let toBeAdd = Number(capacityInput.val()) + Number(quantity);\r\n            capacityInput.val(toBeAdd);\r\n        }\r\n        if (Number(capacityInput.val()) === 150) {\r\n            $(capacityField).val(\"full\");\r\n            $(capacityField).addClass('fullCapacity');\r\n            $(submitButton).prop(\"disabled\", true);\r\n            productNameInput.prop('disabled', true);\r\n            priceInput.prop('disabled', true);\r\n            quantityInput.prop('disabled', true);\r\n            return;\r\n        }\r\n\r\n\r\n        let liToAdd = $(`<li>Product: ${name} Price: ${price} Quantity: ${quantity}</li>`);\r\n        $(\".display\").append(liToAdd);\r\n\r\n\r\n        productNameInput.val(\"\");\r\n        priceInput.val(1);\r\n        quantityInput.val(1);\r\n        $(submitButton).prop(\"disabled\", true);\r\n\r\n    });\r\n\r\n    function getNumberOfCurrentItems() {\r\n        let a = $(\"ul li\").length;\r\n        return a;\r\n    }\r\n}\r\n"]}